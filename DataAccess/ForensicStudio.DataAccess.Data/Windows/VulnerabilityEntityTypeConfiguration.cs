using Microsoft.EntityFrameworkCore.Metadata.Builders;
using Microsoft.EntityFrameworkCore;
using ForensicStudio.DataAccess.Model.Windows;

namespace ForensicStudio.DataAccess.Data.Windows;

public class VulnerabilityEntityTypeConfiguration : IEntityTypeConfiguration<Vulnerability>
{
    public void Configure(EntityTypeBuilder<Vulnerability> builder)
    {
        builder.Property(vulnerability => vulnerability.CveId).IsRequired();
        builder.HasOne(vulnerability => vulnerability.VulnerabilitySource)
            .WithMany(vulnerabilitySource => vulnerabilitySource.Vulnerabilities)
            .HasForeignKey(vulnerability => vulnerability.VulnerabilitySourceId);
    }
}